---
phase: 01-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - vite.config.ts
  - index.html
  - src/main.ts
  - src/App.vue
  - src/vite-env.d.ts
  - .gitignore
autonomous: true

must_haves:
  truths:
    - "Project initializes without errors with bun install"
    - "Dev server starts and shows Vue app at localhost"
    - "TypeScript compilation succeeds with strict mode"
    - "Vuetify theme renders correctly"
    - "JSON imports work (resolveJsonModule enabled)"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies including vue, vuetify, villus, vueuse"
      contains: "villus"
    - path: "vite.config.ts"
      provides: "Vite configuration with Vue plugin"
      contains: "vue()"
    - path: "src/main.ts"
      provides: "App entry point with Vuetify setup"
      contains: "createVuetify"
    - path: "src/App.vue"
      provides: "Root Vue component with Vuetify wrapper"
      contains: "v-app"
    - path: "tsconfig.json"
      provides: "TypeScript config with JSON imports enabled"
      contains: "resolveJsonModule"
  key_links:
    - from: "src/main.ts"
      to: "src/App.vue"
      via: "createApp mount"
      pattern: "createApp.*App.*mount"
---

<objective>
Initialize the Vue 3 + Vuetify 3 + TypeScript project with Bun, configured for JSON imports and strict TypeScript.

Purpose: Establish the foundational project structure that all subsequent plans build upon. This plan runs parallel with the config module (Plan 01) - neither depends on the other.
Output: Runnable development environment with Vue, Vuetify, and TypeScript configured.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Bun + Vue + Vuetify project</name>
  <files>
    - package.json
    - tsconfig.json
    - vite.config.ts
    - index.html
    - src/main.ts
    - src/App.vue
    - src/vite-env.d.ts
    - .gitignore
  </files>
  <action>
Create a new Vue 3 project with Bun:

1. Initialize with `bun create vite . --template vue-ts` (use current directory)

2. Install dependencies:
   ```bash
   bun add vue vuetify @mdi/font
   bun add villus graphql @vueuse/core
   bun add -d @vitejs/plugin-vue vite typescript vue-tsc sass
   ```

3. Configure vite.config.ts:
   - Import and use @vitejs/plugin-vue
   - Configure resolve alias for @ -> src
   - Enable JSON imports in TypeScript

4. Configure tsconfig.json:
   - Enable strict mode
   - Set moduleResolution to bundler
   - Include path alias for @/*
   - **IMPORTANT: Enable resolveJsonModule: true** (required for config JSON imports)
   - Enable esModuleInterop: true

5. Set up src/main.ts:
   - Create Vuetify instance with md3 theme (light mode default)
   - **DO NOT set up villus client here** - that will be done in Plan 03 with config
   - Mount app with Vuetify plugin only

6. Create src/App.vue:
   - Wrap in v-app component
   - Add v-main with placeholder content: "gnomAD Carrier Frequency Calculator"
   - Use Vuetify typography classes

7. Update .gitignore:
   - Add node_modules, dist, .vite, *.local
  </action>
  <verify>
Run: `bun install && bun run dev`
- No errors during install
- Dev server starts on localhost
- Browser shows "gnomAD Carrier Frequency Calculator" text
- Vue DevTools shows app mounted
  </verify>
  <done>
- bun install completes without errors
- bun run dev starts Vite dev server
- App renders with Vuetify styling
- TypeScript compiles without errors (bun run build succeeds)
- tsconfig.json has resolveJsonModule: true
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify TypeScript strict mode and JSON imports</name>
  <files>
    - src/test-config.ts (temporary, delete after verification)
  </files>
  <action>
Verify the TypeScript configuration supports all planned features:

1. Create a temporary test file src/test-config.ts:
   ```typescript
   // Test that JSON imports work
   // This will be used by the config module

   // Test strict mode catches common errors
   function testStrict(x: string | null) {
     // This should error if strict is disabled:
     // return x.length; // Error: x is possibly null

     // Correct strict-mode code:
     return x?.length ?? 0;
   }

   // Test path aliases work
   // import { something } from '@/config'; // Will work after Plan 01

   export { testStrict };
   ```

2. Run TypeScript check:
   ```bash
   bunx tsc --noEmit
   ```

3. **Delete the test file** after verification:
   ```bash
   rm src/test-config.ts
   ```
  </action>
  <verify>
- `bunx tsc --noEmit` passes with no errors
- Strict null checks are enforced
- Path alias @/* resolves to src/*
  </verify>
  <done>
- TypeScript strict mode fully enabled
- JSON module imports configured (resolveJsonModule: true)
- Path aliases configured (@/ -> src/)
- Build succeeds: `bun run build`
  </done>
</task>

</tasks>

<verification>
1. `bun install` - no errors
2. `bun run dev` - server starts
3. `bun run build` - TypeScript compiles, build succeeds
4. `bunx tsc --noEmit` - type checking passes
5. Browser shows app with Vuetify styling
6. tsconfig.json includes: strict: true, resolveJsonModule: true
</verification>

<success_criteria>
- Project runs locally with `bun run dev`
- TypeScript strict mode enabled and passing
- JSON imports enabled (resolveJsonModule: true)
- Vuetify components render correctly
- All dependencies installed: vue, vuetify, villus, graphql, @vueuse/core
- Path alias @/ configured and working
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
