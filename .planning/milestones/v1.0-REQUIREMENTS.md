# Requirements Archive: v1.0 MVP

**Archived:** 2026-01-19
**Status:** âœ… SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: gnomAD Carrier Frequency Calculator

**Defined:** 2026-01-18
**Core Value:** Accurate recurrence risk calculation from gnomAD population data with clinical documentation output

## v1 Requirements

Requirements for initial release. All completed.

### Gene Input

- [x] **GENE-01**: User can enter gene symbol with autocomplete suggestions
- [x] **GENE-02**: Gene symbol is validated against gnomAD before proceeding
- [x] **GENE-03**: Invalid gene shows clear error message

### API Integration

- [x] **API-01**: App queries gnomAD GraphQL API for gene variants
- [x] **API-02**: App handles API errors gracefully with user feedback
- [x] **API-03**: App falls back to default 1:100 when no qualifying variants found

### Variant Filtering

- [x] **FILT-01**: Variants filtered to include LoF "HC" (high confidence) predictions
- [x] **FILT-02**: Variants filtered to include ClinVar pathogenic/likely pathogenic
- [x] **FILT-03**: ClinVar variants require >=1 review star
- [x] **FILT-04**: Filter criteria (LoF HC OR ClinVar P/LP) clearly documented in UI

### Population Handling

- [x] **POP-01**: Global population frequency displayed as primary result
- [x] **POP-02**: All gnomAD populations displayed (afr, amr, asj, eas, fin, mid, nfe, sas)
- [x] **POP-03**: Upper/lower bounds across populations shown
- [x] **POP-04**: Founder effect flagged when population >5x global frequency

### Calculation

- [x] **CALC-01**: Carrier frequency calculated as 2 x sum(pathogenic allele frequencies)
- [x] **CALC-02**: Recurrence risk for heterozygous carrier: 1/2 x carrier_freq x 1/2 = carrier_freq / 4
- [x] **CALC-03**: Recurrence risk for compound het/homozygous affected: 1 x carrier_freq x 1/2 = carrier_freq / 2
- [x] **CALC-04**: Results displayed as both percentage and ratio (e.g., 0.5% and 1:200)

### Index Patient Status

- [x] **IDX-01**: User selects index patient status: heterozygous carrier OR compound het/homozygous affected
- [x] **IDX-02**: Status selection affects German text output framing

### Frequency Source

- [x] **SRC-01**: User can use gnomAD-calculated carrier frequency
- [x] **SRC-02**: User can enter literature-based frequency with PMID citation
- [x] **SRC-03**: User can select default assumption (1:100)
- [x] **SRC-04**: Source attribution shown in results

### German Text Output

- [x] **TEXT-01**: German clinical text generated based on calculation results
- [x] **TEXT-02**: User selects perspective: affected patient, carrier, or family member
- [x] **TEXT-03**: Text includes gene name, carrier frequency, source, and recurrence risk
- [x] **TEXT-04**: Copy-to-clipboard button for German text

### User Interface

- [x] **UI-01**: 4-step wizard flow: Gene -> Status -> Frequency -> Results
- [x] **UI-02**: Vuetify stepper component for navigation
- [x] **UI-03**: User can navigate back to previous steps
- [x] **UI-04**: Results step shows all population frequencies in table format

## v2 Requirements (Deferred)

Tracked for future release.

### Extended Inheritance Modes

- **INH-01**: Support X-linked recessive calculation
- **INH-02**: Support X-linked dominant calculation
- **INH-03**: Bayesian residual risk calculation for negative carrier test

### Advanced Features

- **ADV-01**: Batch processing for multiple genes
- **ADV-02**: Session history (recent calculations)
- **ADV-03**: Export results to PDF
- **ADV-04**: At-risk couple calculation (both partners)

### Localization

- **LOC-01**: English clinical text output option
- **LOC-02**: Du/Sie toggle for German text formality

## Out of Scope

| Feature | Reason |
|---------|--------|
| Backend/database | Direct gnomAD GraphQL from browser, no server needed |
| User accounts | Stateless tool, no persistence required |
| Variant-level detail display | Aggregated frequencies only, not individual variant listing |
| Diagnostic claims | Clinical tool for documentation, not diagnosis |
| Custom variant curation | Use established gnomAD/ClinVar sources only |
| EMR integration | Out of scope for standalone calculator |
| Real-time API streaming | Batch query on gene search sufficient |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| GENE-01 | Phase 1 | Complete |
| GENE-02 | Phase 1 | Complete |
| GENE-03 | Phase 1 | Complete |
| API-01 | Phase 1 | Complete |
| API-02 | Phase 1 | Complete |
| API-03 | Phase 1 | Complete |
| FILT-01 | Phase 1 | Complete |
| FILT-02 | Phase 1 | Complete |
| FILT-03 | Phase 1 | Complete |
| FILT-04 | Phase 1 | Complete |
| POP-01 | Phase 1 | Complete |
| POP-02 | Phase 1 | Complete |
| POP-03 | Phase 1 | Complete |
| POP-04 | Phase 1 | Complete |
| CALC-01 | Phase 1 | Complete |
| CALC-02 | Phase 1 | Complete |
| CALC-03 | Phase 1 | Complete |
| CALC-04 | Phase 1 | Complete |
| IDX-01 | Phase 2 | Complete |
| IDX-02 | Phase 2 | Complete |
| SRC-01 | Phase 2 | Complete |
| SRC-02 | Phase 2 | Complete |
| SRC-03 | Phase 2 | Complete |
| SRC-04 | Phase 2 | Complete |
| UI-01 | Phase 2 | Complete |
| UI-02 | Phase 2 | Complete |
| UI-03 | Phase 2 | Complete |
| UI-04 | Phase 2 | Complete |
| TEXT-01 | Phase 3 | Complete |
| TEXT-02 | Phase 3 | Complete |
| TEXT-03 | Phase 3 | Complete |
| TEXT-04 | Phase 3 | Complete |

---

## Milestone Summary

**Shipped:** 32 of 32 v1 requirements
**Adjusted:** IDX-01 expanded from 2 to 4 status options during implementation
**Dropped:** None

---
*Archived: 2026-01-19 as part of v1.0 milestone completion*
