# Requirements Archive: v1.2 Sharing & Collaboration

**Archived:** 2026-01-20
**Status:** âœ… SHIPPED

This is the archived requirements specification for v1.2.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: gnomAD Carrier Frequency Calculator v1.2

**Defined:** 2026-01-19
**Core Value:** Accurate recurrence risk calculation from gnomAD population data with clinical documentation output

## v1.2 Requirements

Requirements for sharing and collaboration features.

### URL State Sharing

- [x] **URL-01**: URL query parameters encode wizard state (gene, filters, settings)
- [x] **URL-02**: Opening shared URL restores complete calculation state
- [x] **URL-03**: URL updates as user progresses through wizard
- [x] **URL-04**: Copy link button available in results step
- [x] **URL-05**: Shared URLs work across browser sessions
- [x] **URL-06**: Invalid/partial URLs gracefully degrade to defaults

### PWA

- [x] **PWA-01**: App has valid web manifest with icons and metadata
- [x] **PWA-02**: Service worker caches app shell and static assets
- [x] **PWA-03**: App is installable on desktop and mobile
- [x] **PWA-04**: Offline fallback page displays when network unavailable
- [x] **PWA-05**: Previously fetched gene data available offline
- [x] **PWA-06**: Install prompt shown to eligible users

### Variant Exclusion

- [x] **EXCL-01**: User can exclude individual variants via checkbox/toggle in variant table
- [x] **EXCL-02**: User can exclude all variants at once via "select all" control
- [x] **EXCL-03**: Excluded variants visually marked in table (strikethrough/dimmed)
- [x] **EXCL-04**: Carrier frequency recalculates in real-time when variants excluded
- [x] **EXCL-05**: Results page shows note when variants have been excluded
- [x] **EXCL-06**: Export includes excluded variants marked as "excluded" with reason field
- [x] **EXCL-07**: Exclusion state persists during session (not across sessions)
- [x] **EXCL-08**: User can restore excluded variants individually or all at once

### Mobile Optimization

- [x] **MOB-01**: App layout adapts gracefully to viewport widths < 600px
- [x] **MOB-02**: Wizard steps display correctly on mobile without horizontal scrolling
- [x] **MOB-03**: Variant table is usable on small screens (horizontal scroll or responsive layout)
- [x] **MOB-04**: Settings dialog works on mobile viewport
- [x] **MOB-05**: Touch targets meet minimum 44x44px accessibility guidelines
- [x] **MOB-06**: Text remains readable without zooming on mobile
- [x] **MOB-07**: Modals and dialogs fit within mobile viewport
- [x] **MOB-08**: Copy/share functionality works on mobile browsers

### Search History

- [x] **HIST-01**: Completed calculations automatically saved to Pinia store with persistence
- [x] **HIST-02**: History entry includes gene, filters, results, variants, timestamp, and exclusions
- [x] **HIST-03**: History browser accessible from app bar (icon/menu)
- [x] **HIST-04**: User can click history entry to restore full calculation state
- [x] **HIST-05**: History list shows gene name, date, and key result (carrier frequency)
- [x] **HIST-06**: User can delete individual history entries
- [x] **HIST-07**: Automatic cleanup removes oldest entries when limit exceeded (configurable)
- [x] **HIST-08**: User can clear all history from settings
- [x] **HIST-09**: History persists across browser sessions (localStorage)
- [x] **HIST-10**: History works offline (uses cached data)

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| URL-01 | Phase 11 | Complete |
| URL-02 | Phase 11 | Complete |
| URL-03 | Phase 11 | Complete |
| URL-04 | Phase 11 | Complete |
| URL-05 | Phase 11 | Complete |
| URL-06 | Phase 11 | Complete |
| PWA-01 | Phase 12 | Complete |
| PWA-02 | Phase 12 | Complete |
| PWA-03 | Phase 12 | Complete |
| PWA-04 | Phase 12 | Complete |
| PWA-05 | Phase 12 | Complete |
| PWA-06 | Phase 12 | Complete |
| EXCL-01 | Phase 13 | Complete |
| EXCL-02 | Phase 13 | Complete |
| EXCL-03 | Phase 13 | Complete |
| EXCL-04 | Phase 13 | Complete |
| EXCL-05 | Phase 13 | Complete |
| EXCL-06 | Phase 13 | Complete |
| EXCL-07 | Phase 13 | Complete |
| EXCL-08 | Phase 13 | Complete |
| MOB-01 | Phase 14 | Complete |
| MOB-02 | Phase 14 | Complete |
| MOB-03 | Phase 14 | Complete |
| MOB-04 | Phase 14 | Complete |
| MOB-05 | Phase 14 | Complete |
| MOB-06 | Phase 14 | Complete |
| MOB-07 | Phase 14 | Complete |
| MOB-08 | Phase 14 | Complete |
| HIST-01 | Phase 15 | Complete |
| HIST-02 | Phase 15 | Complete |
| HIST-03 | Phase 15 | Complete |
| HIST-04 | Phase 15 | Complete |
| HIST-05 | Phase 15 | Complete |
| HIST-06 | Phase 15 | Complete |
| HIST-07 | Phase 15 | Complete |
| HIST-08 | Phase 15 | Complete |
| HIST-09 | Phase 15 | Complete |
| HIST-10 | Phase 15 | Complete |

**Coverage:**
- v1.2 requirements: 38 total (all complete)
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 38 of 38 v1.2 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-01-20 as part of v1.2 milestone completion*
